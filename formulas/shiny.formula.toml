description = "Design-first workflow for well-scoped features. Think before you code, review the design before you implement, review the code before you ship. Fills the gap between trivial (no design) and architecture (heavyweight human gates)."
formula = "shiny"
type = "workflow"
version = 1

[[steps]]
id = "design"
title = "Design {{feature}}"
description = "Think carefully about architecture before writing code per skill:implementation. Consider: How does this fit into the existing system? What are the edge cases? What could go wrong? Is there a simpler approach? Commit a design doc covering approach, trade-offs, and files to change."
checklist = "design-drafted"

[[steps]]
id = "review-design"
title = "Review design for {{feature}}"
needs = ["design"]
description = "Review the design before writing code. Verify: Does the approach make sense? Are there simpler alternatives? Are edge cases covered? Does it fit existing patterns? Are the trade-offs acceptable? If the design has gaps, cycle back to design. This gate catches bad designs before code is written — fixing a design is cheaper than fixing an implementation."
checklist = "design-reviewed"

[[steps]]
id = "implement"
title = "Implement {{feature}}"
needs = ["review-design"]
description = "Write the code per skill:implementation. Follow the reviewed design. Keep changes focused — don't gold-plate."
checklist = "impl-ready"

[[steps]]
id = "review"
title = "Review implementation"
needs = ["implement"]
description = "Review the implementation per skill:code-review. Check: Does it match the design? Are there obvious bugs? Is it readable and maintainable? Are there security concerns?"
checklist = "review-complete"

[[steps]]
id = "test"
title = "Test {{feature}}"
needs = ["review"]
description = "Write and run tests per skill:testing. Unit tests for new code, integration tests if touching boundaries. Run full test suite, fix regressions."
checklist = "tests-pass"

[[steps]]
id = "submit"
title = "Submit for merge"
needs = ["test"]
description = "Submit for merge. Final check: git status clean, clear commit message, code pushed to feature branch. Follow your role's git workflow for landing code."
checklist = "merge-ready"

[vars]
[vars.feature]
description = "The feature being implemented"
required = true
[vars.assignee]
description = "Who is assigned to this work"
